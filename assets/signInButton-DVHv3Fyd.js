import{q as l,aH as u,aL as g,aM as m,aN as d,aO as h,aP as o,aQ as p}from"./index-DIjvpiq6.js";import{g as f,G as n,o as S,a as y}from"./index-54738136-Bi34OKpV.js";const R=()=>{const t=f(),r=new n;l.useEffect(()=>{S(t,async e=>{if(e){const s=g(p,"users"),a=m(s,d("email","==",e.email));(await h(a)).forEach(c=>{o.getState().setUser({id:c.data().id,displayName:e.displayName,email:e.email,photoURL:e.photoURL})})}else o.getState().setUser(null)})},[t]);const i=async()=>{y(t,r).then(e=>{if(!n.credentialFromResult(e))return;const a=e.user;console.debug("user signed in",a)}).catch(e=>{const s=e.message;console.error(s)})};return u.jsx("button",{className:"signInButton",onClick:i,children:"Sign In"})};export{R as default};
